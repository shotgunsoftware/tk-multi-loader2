

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShotGrid Loader API reference &mdash; tk-multi-loader2 v1.23.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='http://developer.shotgridsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
          
          <a href="#" class="icon icon-home">
            tk-multi-loader2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">ShotGrid Loader API reference</a><ul>
<li><a class="reference internal" href="#loader-api">Loader API</a><ul>
<li><a class="reference internal" href="#loadermanager">LoaderManager</a><ul>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager"><code class="docutils literal notranslate"><span class="pre">LoaderManager</span></code></a><ul>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager.get_actions_for_publish"><code class="docutils literal notranslate"><span class="pre">LoaderManager.get_actions_for_publish()</span></code></a></li>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager.get_actions_for_publishes"><code class="docutils literal notranslate"><span class="pre">LoaderManager.get_actions_for_publishes()</span></code></a></li>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager.execute_action"><code class="docutils literal notranslate"><span class="pre">LoaderManager.execute_action()</span></code></a></li>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager.execute_multiple_actions"><code class="docutils literal notranslate"><span class="pre">LoaderManager.execute_multiple_actions()</span></code></a></li>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager.get_actions_for_entity"><code class="docutils literal notranslate"><span class="pre">LoaderManager.get_actions_for_entity()</span></code></a></li>
<li><a class="reference internal" href="#tk_multi_loader.api.LoaderManager.has_actions"><code class="docutils literal notranslate"><span class="pre">LoaderManager.has_actions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-multi-loader2</b> v1.23.2.<br>
    
        This documentation is part of the ShotGrid Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://developer.shotgridsoftware.com'>The ShotGrid developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-multi-loader2'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">tk-multi-loader2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ShotGrid Loader API reference</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="shotgrid-loader-api-reference">
<h1>ShotGrid Loader API reference<a class="headerlink" href="#shotgrid-loader-api-reference" title="Permalink to this heading"></a></h1>
<section id="loader-api">
<h2>Loader API<a class="headerlink" href="#loader-api" title="Permalink to this heading"></a></h2>
<p>The loader API gives developers access the underlying data structures and
methods used by the loader UI to manage actions. They can use this interface to build more
advanced custom load workflows.</p>
<p>The main interface of the API is the <a class="reference internal" href="#loader-api-manager"><span class="std std-ref">LoaderManager</span></a> class which exposes the methods that drive the Loader UI
for the actions management.</p>
<p>The code below shows how to execute a suite of actions using this API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># need to have an engine running in a context where the loader has been</span>
<span class="c1"># configured.</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>

<span class="c1"># get the loader app instance from the engine&#39;s list of configured apps</span>
<span class="n">loader_app</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tk-multi-loader2&quot;</span><span class="p">)</span>

<span class="c1"># ensure we have the loader instance.</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">loader_app</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The loader is not configured for this context.&quot;</span><span class="p">)</span>

<span class="c1"># create a new loader manager instance</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">loader_app</span><span class="o">.</span><span class="n">create_loader_manager</span><span class="p">()</span>

<span class="c1"># use case 1: retrieve the actions for a single publish and execute a specific action</span>
<span class="n">loader_actions</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_actions_for_publish</span><span class="p">(</span><span class="n">publish</span><span class="p">,</span> <span class="n">manager</span><span class="o">.</span><span class="n">UI_AREA_MAIN</span><span class="p">)</span>

<span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">loader_actions</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;my_action&quot;</span><span class="p">:</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">execute_action</span><span class="p">(</span><span class="n">publish</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>

<span class="c1"># use case 2: retrieve the common actions between many publishes and execute one of these action for all the publishes</span>
<span class="n">loader_actions</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_actions_for_publishes</span><span class="p">(</span><span class="n">publishes</span><span class="p">,</span> <span class="n">manager</span><span class="o">.</span><span class="n">UI_AREA_MAIN</span><span class="p">)</span>

<span class="n">reference_actions</span> <span class="o">=</span> <span class="n">loader_actions</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;my_action&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">reference_actions</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">execute_multiple_actions</span><span class="p">(</span><span class="n">reference_actions</span><span class="p">)</span>
</pre></div>
</div>
<p>See the documentation for each of these classes below for more detail on how
to use them.</p>
<section id="loadermanager">
<span id="loader-api-manager"></span><h3>LoaderManager<a class="headerlink" href="#loadermanager" title="Permalink to this heading"></a></h3>
<p>This class gives developers direct access to the same methods and data
structures used by the Loader UI to manage actions. You can create an instance of this class
directly via the configured loader app like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># need to have an engine running in a context where the publisher has been</span>
<span class="c1"># configured.</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>

<span class="c1"># get the loader app instance from the engine&#39;s list of configured apps</span>
<span class="n">loader_app</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tk-multi-loader2&quot;</span><span class="p">)</span>

<span class="c1"># ensure we have the loader instance.</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">loader_app</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;The loader is not configured for this context.&quot;</span><span class="p">)</span>

<span class="c1"># create a new loader manager instance</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">loader_app</span><span class="o">.</span><span class="n">create_loader_manager</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tk_multi_loader.api.</span></span><span class="sig-name descname"><span class="pre">LoaderManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loader_logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager" title="Permalink to this definition"></a></dt>
<dd><p>This class is used for managing and executing loads.</p>
<p>Initialize the manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bundle</strong> – The bundle (app, engine or framework) instance for the app
that the calling code is associated with.</p></li>
<li><p><strong>loader_logger</strong> – This is a standard python logger to use during
loading. A default logger will be provided if not supplied. This
can be useful when implementing a custom UI, for example, with a
specialized log handler</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager.get_actions_for_publish">
<span class="sig-name descname"><span class="pre">get_actions_for_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ui_area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.get_actions_for_publish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.get_actions_for_publish" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of actions for a publish.</p>
<p>Shotgun data representing a publish is passed in and forwarded on to hooks
to help them determine which actions may be applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg_data</strong> – Shotgun data dictionary with all the standard publish fields.</p></li>
<li><p><strong>ui_area</strong> – <p>Indicates which part of the UI the request is coming from.
Currently one of:</p>
<ul>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_MAIN</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_DETAILS</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_HISTORY</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dictionaries, each with keys name, params, caption and description</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager.get_actions_for_publishes">
<span class="sig-name descname"><span class="pre">get_actions_for_publishes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ui_area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.get_actions_for_publishes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.get_actions_for_publishes" title="Permalink to this definition"></a></dt>
<dd><p>Returns common actions for a list of publishes.</p>
<p>Shotgun data representing a publish is passed in and forwarded on to hooks
to help them determine which actions may be applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg_data_list</strong> – List of Shotgun data dictionary with all the standard publish fields.</p></li>
<li><p><strong>ui_area</strong> – <p>Indicates which part of the UI the request is coming from.
Currently one of:</p>
<ul>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_MAIN</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_DETAILS</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tk_multi_loader.LoaderManager.UI_AREA_HISTORY</span></code></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary where the keys are the action names and the values contain the list of available actions.
One action will be defined for each publish.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager.execute_action">
<span class="sig-name descname"><span class="pre">execute_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.execute_action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.execute_action" title="Permalink to this definition"></a></dt>
<dd><p>Execute the given action for the selected publish.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg_data</strong> – Shotgun data dictionary with all the standard publish fields.</p></li>
<li><p><strong>action</strong> – Dictionary containing the action data has defined in the hook.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager.execute_multiple_actions">
<span class="sig-name descname"><span class="pre">execute_multiple_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.execute_multiple_actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.execute_multiple_actions" title="Permalink to this definition"></a></dt>
<dd><p>Execute many actions for a list of publishes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>actions</strong> – List of dictionaries holding all the actions to execute.
Each entry will have the following values:
name: Name of the action to execute
sg_publish_data: Publish information coming from Shotgun
params: Parameters passed down from the generate_actions hook.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager.get_actions_for_entity">
<span class="sig-name descname"><span class="pre">get_actions_for_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.get_actions_for_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.get_actions_for_entity" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of actions for an entity type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sg_data</strong> – Shotgun data dictionary representing the entity we want to get actions for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dictionaries, each with keys name, params, caption and description</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tk_multi_loader.api.LoaderManager.has_actions">
<span class="sig-name descname"><span class="pre">has_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">publish_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tk_multi_loader/api/manager.html#LoaderManager.has_actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tk_multi_loader.api.LoaderManager.has_actions" title="Permalink to this definition"></a></dt>
<dd><p>Returns true if the given publish type has any actions associated with it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>publish_type</strong> – A Shotgun publish type (e.g. ‘Maya Render’)</p>
</dd>
<dt class="field-even">Return:<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the current actions setup knows how to handle this.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>